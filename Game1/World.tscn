[gd_scene load_steps=14 format=3 uid="uid://c8vmlhg6d4fb7"]

[ext_resource type="Texture2D" uid="uid://dxy7a072osccd" path="res://Sprites/Block.png" id="1_h0rms"]
[ext_resource type="PackedScene" uid="uid://635o56f026qm" path="res://Player/Player.tscn" id="1_xv4x4"]
[ext_resource type="Texture2D" uid="uid://dwtwnoe4vspmr" path="res://Sprites/icon.svg" id="2_5fs5l"]
[ext_resource type="Script" path="res://tile_light_handler.gd" id="5_mhxib"]
[ext_resource type="PackedScene" uid="uid://cgsdi433wmtt3" path="res://Submarine/Submarine.tscn" id="5_oj3xc"]
[ext_resource type="Script" path="res://Camera.gd" id="6_x5jq5"]
[ext_resource type="Script" path="res://UI.gd" id="7_fqj18"]
[ext_resource type="Script" path="res://NavGeneration.gd" id="7_phgih"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_uoxkh"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_pkxxx"]
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_r2qbb"]
texture = ExtResource("2_5fs5l")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:3/0 = 0
1:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:3/0/physics_layer_0/angular_velocity = 0.0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:3/0 = 0
2:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:3/0/physics_layer_0/angular_velocity = 0.0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:3/0 = 0
3:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:3/0/physics_layer_0/angular_velocity = 0.0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_pccso"]
tile_size = Vector2i(32, 32)
uv_clipping = true
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_r2qbb")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f7did"]
size = Vector2(3480, 20)

[node name="World" type="Node2D"]

[node name="Background" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer1" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2(2.08165e-12, 2.08165e-12)

[node name="Background" type="Sprite2D" parent="Background/ParallaxLayer1"]
modulate = Color(0, 0, 0.321569, 1)
z_index = -100
material = SubResource("CanvasItemMaterial_uoxkh")
position = Vector2(682, 442)
scale = Vector2(49.0938, 31.5625)
texture = ExtResource("1_h0rms")
metadata/_edit_lock_ = true

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("7_fqj18")

[node name="ProgressBar" type="ProgressBar" parent="UI"]
offset_left = 16.0
offset_top = 25.0
offset_right = 286.0
offset_bottom = 81.0
value = 100.0

[node name="Nav+Terrain" type="Node2D" parent="."]
script = ExtResource("7_phgih")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="Nav+Terrain"]
navigation_polygon = SubResource("NavigationPolygon_pkxxx")

[node name="TileMap" type="TileMap" parent="Nav+Terrain"]
modulate = Color(0.0745098, 0.0745098, 0.0745098, 1)
tile_set = SubResource("TileSet_pccso")
format = 2
layer_0/tile_data = PackedInt32Array(2097139, 1, 0, 2162675, 1, 1, 2228211, 1, 2, 2293747, 1, 3, 2097140, 65537, 0, 2162676, 65537, 1, 2228212, 65537, 2, 2293748, 65537, 3, 2097141, 131073, 0, 2162677, 131073, 1, 2228213, 131073, 2, 2293749, 131073, 3, 2097142, 196609, 0, 2162678, 196609, 1, 2228214, 196609, 2, 2293750, 196609, 3, 2031603, 1, 3, 2031604, 65537, 3, 2031605, 131073, 3, 2031606, 196609, 3, 1572851, 1, 0, 1638387, 1, 1, 1703923, 1, 2, 1769459, 1, 3, 1572852, 65537, 0, 1638388, 65537, 1, 1703924, 65537, 2, 1769460, 65537, 3, 1572853, 131073, 0, 1638389, 131073, 1, 1703925, 131073, 2, 1769461, 131073, 3, 1572854, 196609, 0, 1638390, 196609, 1, 1703926, 196609, 2, 1769462, 196609, 3, 1310707, 1, 0, 1376243, 1, 1, 1441779, 1, 2, 1507315, 1, 3, 1310708, 65537, 0, 1376244, 65537, 1, 1441780, 65537, 2, 1507316, 65537, 3, 1310709, 131073, 0, 1376245, 131073, 1, 1441781, 131073, 2, 1507317, 131073, 3, 1310710, 196609, 0, 1376246, 196609, 1, 1441782, 196609, 2, 1507318, 196609, 3, 1048563, 1, 0, 1114099, 1, 1, 1179635, 1, 2, 1245171, 1, 3, 1048564, 65537, 0, 1114100, 65537, 1, 1179636, 65537, 2, 1245172, 65537, 3, 1048565, 131073, 0, 1114101, 131073, 1, 1179637, 131073, 2, 1245173, 131073, 3, 1048566, 196609, 0, 1114102, 196609, 1, 1179638, 196609, 2, 1245174, 196609, 3, 786419, 1, 0, 851955, 1, 1, 917491, 1, 2, 983027, 1, 3, 786420, 65537, 0, 851956, 65537, 1, 917492, 65537, 2, 983028, 65537, 3, 786421, 131073, 0, 851957, 131073, 1, 917493, 131073, 2, 983029, 131073, 3, 786422, 196609, 0, 851958, 196609, 1, 917494, 196609, 2, 983030, 196609, 3, 786423, 1, 0, 851959, 1, 1, 917495, 1, 2, 983031, 1, 3, 786424, 65537, 0, 851960, 65537, 1, 917496, 65537, 2, 983032, 65537, 3, 786425, 131073, 0, 851961, 131073, 1, 917497, 131073, 2, 983033, 131073, 3, 786426, 196609, 0, 851962, 196609, 1, 917498, 196609, 2, 983034, 196609, 3, 786427, 1, 0, 851963, 1, 1, 917499, 1, 2, 983035, 1, 3, 786428, 65537, 0, 851964, 65537, 1, 917500, 65537, 2, 983036, 65537, 3, 786429, 131073, 0, 851965, 131073, 1, 917501, 131073, 2, 983037, 131073, 3, 786430, 196609, 0, 851966, 196609, 1, 917502, 196609, 2, 983038, 196609, 3, 786431, 1, 0, 851967, 1, 1, 917503, 1, 2, 983039, 1, 3, 720896, 65537, 0, 786432, 65537, 1, 851968, 65537, 2, 917504, 65537, 3, 720897, 131073, 0, 786433, 131073, 1, 851969, 131073, 2, 917505, 131073, 3, 720898, 196609, 0, 786434, 196609, 1, 851970, 196609, 2, 917506, 196609, 3, 720899, 1, 0, 786435, 1, 1, 851971, 1, 2, 917507, 1, 3, 720900, 65537, 0, 786436, 65537, 1, 851972, 65537, 2, 917508, 65537, 3, 720901, 131073, 0, 786437, 131073, 1, 851973, 131073, 2, 917509, 131073, 3, 720902, 196609, 0, 786438, 196609, 1, 851974, 196609, 2, 917510, 196609, 3, 720903, 1, 0, 786439, 1, 1, 851975, 1, 2, 917511, 1, 3, 720904, 65537, 0, 786440, 65537, 1, 851976, 65537, 2, 917512, 65537, 3, 720905, 131073, 0, 786441, 131073, 1, 851977, 131073, 2, 917513, 131073, 3, 720906, 196609, 0, 786442, 196609, 1, 851978, 196609, 2, 917514, 196609, 3, 720907, 1, 0, 786443, 1, 1, 851979, 1, 2, 917515, 1, 3, 720908, 65537, 0, 786444, 65537, 1, 851980, 65537, 2, 917516, 65537, 3, 720909, 131073, 0, 786445, 131073, 1, 851981, 131073, 2, 917517, 131073, 3, 720910, 196609, 0, 786446, 196609, 1, 851982, 196609, 2, 917518, 196609, 3, 720911, 1, 0, 786447, 1, 1, 851983, 1, 2, 917519, 1, 3, 720912, 65537, 0, 786448, 65537, 1, 851984, 65537, 2, 917520, 65537, 3, 720913, 131073, 0, 786449, 131073, 1, 851985, 131073, 2, 917521, 131073, 3, 720914, 196609, 0, 786450, 196609, 1, 851986, 196609, 2, 917522, 196609, 3, 720915, 1, 0, 786451, 1, 1, 851987, 1, 2, 917523, 1, 3, 720916, 65537, 0, 786452, 65537, 1, 851988, 65537, 2, 917524, 65537, 3, 720917, 131073, 0, 786453, 131073, 1, 851989, 131073, 2, 917525, 131073, 3, 720918, 196609, 0, 786454, 196609, 1, 851990, 196609, 2, 917526, 196609, 3, 720919, 1, 0, 786455, 1, 1, 851991, 1, 2, 917527, 1, 3, 720920, 65537, 0, 786456, 65537, 1, 851992, 65537, 2, 917528, 65537, 3, 720921, 131073, 0, 786457, 131073, 1, 851993, 131073, 2, 917529, 131073, 3, 720922, 196609, 0, 786458, 196609, 1, 851994, 196609, 2, 917530, 196609, 3, 720923, 1, 0, 786459, 1, 1, 851995, 1, 2, 917531, 1, 3, 720924, 65537, 0, 786460, 65537, 1, 851996, 65537, 2, 917532, 65537, 3, 720925, 131073, 0, 786461, 131073, 1, 851997, 131073, 2, 917533, 131073, 3, 720926, 196609, 0, 786462, 196609, 1, 851998, 196609, 2, 917534, 196609, 3, 983067, 1, 0, 1048603, 1, 1, 1114139, 1, 2, 1179675, 1, 3, 983068, 65537, 0, 1048604, 65537, 1, 1114140, 65537, 2, 1179676, 65537, 3, 983069, 131073, 0, 1048605, 131073, 1, 1114141, 131073, 2, 1179677, 131073, 3, 983070, 196609, 0, 1048606, 196609, 1, 1114142, 196609, 2, 1179678, 196609, 3, 983063, 1, 0, 1048599, 1, 1, 1114135, 1, 2, 1179671, 1, 3, 983064, 65537, 0, 1048600, 65537, 1, 1114136, 65537, 2, 1179672, 65537, 3, 983065, 131073, 0, 1048601, 131073, 1, 1114137, 131073, 2, 1179673, 131073, 3, 983066, 196609, 0, 1048602, 196609, 1, 1114138, 196609, 2, 1179674, 196609, 3, 1245207, 1, 0, 1310743, 1, 1, 1376279, 1, 2, 1441815, 1, 3, 1245208, 65537, 0, 1310744, 65537, 1, 1376280, 65537, 2, 1441816, 65537, 3, 1245209, 131073, 0, 1310745, 131073, 1, 1376281, 131073, 2, 1441817, 131073, 3, 1245210, 196609, 0, 1310746, 196609, 1, 1376282, 196609, 2, 1441818, 196609, 3, 1507351, 1, 0, 1572887, 1, 1, 1638423, 1, 2, 1703959, 1, 3, 1507352, 65537, 0, 1572888, 65537, 1, 1638424, 65537, 2, 1703960, 65537, 3, 1507353, 131073, 0, 1572889, 131073, 1, 1638425, 131073, 2, 1703961, 131073, 3, 1507354, 196609, 0, 1572890, 196609, 1, 1638426, 196609, 2, 1703962, 196609, 3, 1507355, 1, 0, 1572891, 1, 1, 1638427, 1, 2, 1703963, 1, 3, 1507356, 65537, 0, 1572892, 65537, 1, 1638428, 65537, 2, 1703964, 65537, 3, 1507357, 131073, 0, 1572893, 131073, 1, 1638429, 131073, 2, 1703965, 131073, 3, 1507358, 196609, 0, 1572894, 196609, 1, 1638430, 196609, 2, 1703966, 196609, 3, 1507359, 1, 0, 1572895, 1, 1, 1638431, 1, 2, 1703967, 1, 3, 1507360, 65537, 0, 1572896, 65537, 1, 1638432, 65537, 2, 1703968, 65537, 3, 1507361, 131073, 0, 1572897, 131073, 1, 1638433, 131073, 2, 1703969, 131073, 3, 1507362, 196609, 0, 1572898, 196609, 1, 1638434, 196609, 2, 1703970, 196609, 3, 1769503, 1, 0, 1835039, 1, 1, 1900575, 1, 2, 1966111, 1, 3, 1769504, 65537, 0, 1835040, 65537, 1, 1900576, 65537, 2, 1966112, 65537, 3, 1769505, 131073, 0, 1835041, 131073, 1, 1900577, 131073, 2, 1966113, 131073, 3, 1769506, 196609, 0, 1835042, 196609, 1, 1900578, 196609, 2, 1966114, 196609, 3, 1769507, 1, 0, 1835043, 1, 1, 1900579, 1, 2, 1966115, 1, 3, 1769508, 65537, 0, 1835044, 65537, 1, 1900580, 65537, 2, 1966116, 65537, 3, 1769509, 131073, 0, 1835045, 131073, 1, 1900581, 131073, 2, 1966117, 131073, 3, 1769510, 196609, 0, 1835046, 196609, 1, 1900582, 196609, 2, 1966118, 196609, 3, 1769511, 1, 0, 1835047, 1, 1, 1900583, 1, 2, 1966119, 1, 3, 1769512, 65537, 0, 1835048, 65537, 1, 1900584, 65537, 2, 1966120, 65537, 3, 1769513, 131073, 0, 1835049, 131073, 1, 1900585, 131073, 2, 1966121, 131073, 3, 1769514, 196609, 0, 1835050, 196609, 1, 1900586, 196609, 2, 1966122, 196609, 3, 1507367, 1, 0, 1572903, 1, 1, 1638439, 1, 2, 1703975, 1, 3, 1507368, 65537, 0, 1572904, 65537, 1, 1638440, 65537, 2, 1703976, 65537, 3, 1507369, 131073, 0, 1572905, 131073, 1, 1638441, 131073, 2, 1703977, 131073, 3, 1507370, 196609, 0, 1572906, 196609, 1, 1638442, 196609, 2, 1703978, 196609, 3, 1507371, 1, 0, 1572907, 1, 1, 1638443, 1, 2, 1703979, 1, 3, 1507372, 65537, 0, 1572908, 65537, 1, 1638444, 65537, 2, 1703980, 65537, 3, 1507373, 131073, 0, 1572909, 131073, 1, 1638445, 131073, 2, 1703981, 131073, 3, 1507374, 196609, 0, 1572910, 196609, 1, 1638446, 196609, 2, 1703982, 196609, 3, 1245227, 1, 0, 1310763, 1, 1, 1376299, 1, 2, 1441835, 1, 3, 1245228, 65537, 0, 1310764, 65537, 1, 1376300, 65537, 2, 1441836, 65537, 3, 1245229, 131073, 0, 1310765, 131073, 1, 1376301, 131073, 2, 1441837, 131073, 3, 1245230, 196609, 0, 1310766, 196609, 1, 1376302, 196609, 2, 1441838, 196609, 3, 1245231, 1, 0, 1310767, 1, 1, 1376303, 1, 2, 1441839, 1, 3, 1245232, 65537, 0, 1310768, 65537, 1, 1376304, 65537, 2, 1441840, 65537, 3, 1245233, 131073, 0, 1310769, 131073, 1, 1376305, 131073, 2, 1441841, 131073, 3, 1245234, 196609, 0, 1310770, 196609, 1, 1376306, 196609, 2, 1441842, 196609, 3, 983087, 1, 0, 1048623, 1, 1, 1114159, 1, 2, 1179695, 1, 3, 983088, 65537, 0, 1048624, 65537, 1, 1114160, 65537, 2, 1179696, 65537, 3, 983089, 131073, 0, 1048625, 131073, 1, 1114161, 131073, 2, 1179697, 131073, 3, 983090, 196609, 0, 1048626, 196609, 1, 1114162, 196609, 2, 1179698, 196609, 3, 720943, 1, 0, 786479, 1, 1, 852015, 1, 2, 917551, 1, 3, 720944, 65537, 0, 786480, 65537, 1, 852016, 65537, 2, 917552, 65537, 3, 720945, 131073, 0, 786481, 131073, 1, 852017, 131073, 2, 917553, 131073, 3, 720946, 196609, 0, 786482, 196609, 1, 852018, 196609, 2, 917554, 196609, 3, 720947, 1, 0, 786483, 1, 1, 852019, 1, 2, 917555, 1, 3, 720948, 65537, 0, 786484, 65537, 1, 852020, 65537, 2, 917556, 65537, 3, 720949, 131073, 0, 786485, 131073, 1, 852021, 131073, 2, 917557, 131073, 3, 720950, 196609, 0, 786486, 196609, 1, 852022, 196609, 2, 917558, 196609, 3, 1834995, 1, 0, 1900531, 1, 1, 1966067, 1, 2, 1834996, 65537, 0, 1900532, 65537, 1, 1966068, 65537, 2, 1834997, 131073, 0, 1900533, 131073, 1, 1966069, 131073, 2, 1834998, 196609, 0, 1900534, 196609, 1, 1966070, 196609, 2, 2031619, 1, 0, 2097155, 1, 1, 2162691, 1, 2, 2228227, 1, 3, 2031620, 65537, 0, 2097156, 65537, 1, 2162692, 65537, 2, 2228228, 65537, 3, 2031621, 131073, 0, 2097157, 131073, 1, 2162693, 131073, 2, 2228229, 131073, 3, 2031622, 196609, 0, 2097158, 196609, 1, 2162694, 196609, 2, 2228230, 196609, 3, 1966083, 1, 0)
script = ExtResource("5_mhxib")

[node name="Camera" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="Camera"]
script = ExtResource("6_x5jq5")

[node name="OutOfBounds" type="Area2D" parent="Camera"]

[node name="Up" type="CollisionShape2D" parent="Camera/OutOfBounds"]
position = Vector2(705, -148)
shape = SubResource("RectangleShape2D_f7did")
disabled = true

[node name="Down" type="CollisionShape2D" parent="Camera/OutOfBounds"]
position = Vector2(655, 1004)
shape = SubResource("RectangleShape2D_f7did")
disabled = true

[node name="Left" type="CollisionShape2D" parent="Camera/OutOfBounds"]
position = Vector2(-763, 269)
rotation = 1.5708
shape = SubResource("RectangleShape2D_f7did")
disabled = true

[node name="Right" type="CollisionShape2D" parent="Camera/OutOfBounds"]
position = Vector2(1946, 489)
rotation = 1.5708
shape = SubResource("RectangleShape2D_f7did")
disabled = true

[node name="Player" parent="." instance=ExtResource("1_xv4x4")]
position = Vector2(197, 831)

[node name="Submarine" parent="." instance=ExtResource("5_oj3xc")]
position = Vector2(262, 783)
